{"version":3,"names":["width","SCREEN_WIDTH","Dimensions","get","DEFAULT_BOARD_SIZE","Math","floor","defaultChessboardProps","gestureEnabled","colors","black","white","lastMoveHighlight","checkmateHighlight","promotionPieceButton","durations","move","withLetters","withNumbers","boardSize","pieceSize","ChessboardPropsContext","React","createContext","ChessboardPropsContextProvider","memo","children","rest","value","useMemo","data"],"sources":["index.tsx"],"sourcesContent":["import type { Move } from 'chess.js';\r\nimport React, { useMemo } from 'react';\r\nimport { Dimensions } from 'react-native';\r\nimport type { PieceType } from '../../types';\r\n\r\nimport type { ChessboardState } from '../../helpers/get-chessboard-state';\r\n\r\ntype ChessMoveInfo = {\r\n  move: Move;\r\n  state: ChessboardState & { in_promotion: boolean };\r\n};\r\n\r\ntype ChessboardColorsType = {\r\n  white: string;\r\n  black: string;\r\n  lastMoveHighlight?: string;\r\n  checkmateHighlight?: string;\r\n  promotionPieceButton?: string;\r\n};\r\n\r\ntype ChessboardDurationsType = {\r\n  move?: number;\r\n};\r\n\r\ntype ChessboardProps = {\r\n  /**\r\n   * Enables gestures for chess pieces.\r\n   */\r\n  gestureEnabled?: boolean;\r\n  /**\r\n   * Indicates the initial fen position of the chessboard.\r\n   */\r\n  fen?: string;\r\n  /**\r\n   * Decides whether or not to show the letters on the bottom horizontal axis of the chessboard.\r\n   */\r\n  withLetters?: boolean;\r\n  /**\r\n   * Decides whether or not to show the letters on the bottom horizontal axis of the chessboard.\r\n   */\r\n  withNumbers?: boolean;\r\n  /**\r\n   * Indicates the chessboard width and height.\r\n   */\r\n  boardSize?: number;\r\n  /**\r\n   *\r\n   * It gives the possibility to customise the chessboard pieces.\r\n   *\r\n   * In detail, it takes a PieceType as input, which is constructed as follows:\r\n   */\r\n  renderPiece?: (piece: PieceType) => React.ReactElement | null;\r\n  /**\r\n   * It's a particularly useful callback if you want to execute an instruction after a move.\r\n   */\r\n  onMove?: (info: ChessMoveInfo) => void;\r\n  /**\r\n   * Useful if you want to customise the default colors used in the chessboard.\r\n   */\r\n  colors?: ChessboardColorsType;\r\n  /**\r\n   * Useful if you want to customise the default durations used in the chessboard (in milliseconds).\r\n   */\r\n  durations?: ChessboardDurationsType;\r\n};\r\n\r\ntype ChessboardContextType = ChessboardProps &\r\n  Required<\r\n    Pick<\r\n      ChessboardProps,\r\n      'gestureEnabled' | 'withLetters' | 'withNumbers' | 'boardSize'\r\n    >\r\n  > & { pieceSize: number } & {\r\n    colors: Required<ChessboardColorsType>;\r\n    durations: Required<ChessboardDurationsType>;\r\n  };\r\n\r\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\r\nconst DEFAULT_BOARD_SIZE = Math.floor(SCREEN_WIDTH / 8) * 8;\r\n\r\nconst defaultChessboardProps: ChessboardContextType = {\r\n  gestureEnabled: true,\r\n  colors: {\r\n    black: '#62B1A8',\r\n    white: '#D9FDF8',\r\n    lastMoveHighlight: 'rgba(255,255,0, 0.5)',\r\n    checkmateHighlight: '#E84855',\r\n    promotionPieceButton: '#FF9B71',\r\n  },\r\n  durations: {\r\n    move: 150,\r\n  },\r\n  withLetters: true,\r\n  withNumbers: true,\r\n  boardSize: DEFAULT_BOARD_SIZE,\r\n  pieceSize: DEFAULT_BOARD_SIZE / 8,\r\n};\r\n\r\nconst ChessboardPropsContext = React.createContext<ChessboardContextType>(\r\n  defaultChessboardProps\r\n);\r\n\r\nconst ChessboardPropsContextProvider: React.FC<ChessboardProps> = React.memo(\r\n  ({ children, ...rest }) => {\r\n    const value = useMemo(() => {\r\n      const data = {\r\n        ...defaultChessboardProps,\r\n        ...rest,\r\n        colors: { ...defaultChessboardProps.colors, ...rest.colors },\r\n        durations: { ...defaultChessboardProps.durations, ...rest.durations },\r\n      };\r\n      return { ...data, pieceSize: data.boardSize / 8 };\r\n    }, [rest]);\r\n\r\n    return (\r\n      <ChessboardPropsContext.Provider value={value}>\r\n        {children}\r\n      </ChessboardPropsContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nexport { ChessboardPropsContextProvider, ChessboardPropsContext, DEFAULT_BOARD_SIZE };\r\n// eslint-disable-next-line no-undef\r\nexport type { ChessboardProps };\r\n"],"mappings":";;;;;;;AACA;;AACA;;;;;;AA2EA,MAAM;EAAEA,KAAK,EAAEC;AAAT,IAA0BC,uBAAA,CAAWC,GAAX,CAAe,QAAf,CAAhC;;AACA,MAAMC,kBAAkB,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAY,GAAG,CAA1B,IAA+B,CAA1D;;AAEA,MAAMM,sBAA6C,GAAG;EACpDC,cAAc,EAAE,IADoC;EAEpDC,MAAM,EAAE;IACNC,KAAK,EAAE,SADD;IAENC,KAAK,EAAE,SAFD;IAGNC,iBAAiB,EAAE,sBAHb;IAINC,kBAAkB,EAAE,SAJd;IAKNC,oBAAoB,EAAE;EALhB,CAF4C;EASpDC,SAAS,EAAE;IACTC,IAAI,EAAE;EADG,CATyC;EAYpDC,WAAW,EAAE,IAZuC;EAapDC,WAAW,EAAE,IAbuC;EAcpDC,SAAS,EAAEf,kBAdyC;EAepDgB,SAAS,EAAEhB,kBAAkB,GAAG;AAfoB,CAAtD;;AAkBA,MAAMiB,sBAAsB,gBAAGC,cAAA,CAAMC,aAAN,CAC7BhB,sBAD6B,CAA/B;;;;AAIA,MAAMiB,8BAAyD,gBAAGF,cAAA,CAAMG,IAAN,CAChE,QAA2B;EAAA,IAA1B;IAAEC,QAAF;IAAY,GAAGC;EAAf,CAA0B;EACzB,MAAMC,KAAK,GAAG,IAAAC,cAAA,EAAQ,MAAM;IAC1B,MAAMC,IAAI,GAAG,EACX,GAAGvB,sBADQ;MAEX,GAAGoB,IAFQ;MAGXlB,MAAM,EAAE,EAAE,GAAGF,sBAAsB,CAACE,MAA5B;QAAoC,GAAGkB,IAAI,CAAClB;MAA5C,CAHG;MAIXM,SAAS,EAAE,EAAE,GAAGR,sBAAsB,CAACQ,SAA5B;QAAuC,GAAGY,IAAI,CAACZ;MAA/C;IAJA,CAAb;IAMA,OAAO,EAAE,GAAGe,IAAL;MAAWV,SAAS,EAAEU,IAAI,CAACX,SAAL,GAAiB;IAAvC,CAAP;EACD,CARa,EAQX,CAACQ,IAAD,CARW,CAAd;EAUA,oBACE,6BAAC,sBAAD,CAAwB,QAAxB;IAAiC,KAAK,EAAEC;EAAxC,GACGF,QADH,CADF;AAKD,CAjB+D,CAAlE,C,CAqBA"}