{"version":3,"names":["useCallback","useChessboardProps","useReversePiecePosition","pieceSize","toTranslation","to","tokens","split","col","row","Error","indexes","x","charCodeAt","y","parseInt","toPosition","String","fromCharCode","Math","round"],"sources":["notation.ts"],"sourcesContent":["import type { Square } from 'chess.js';\r\nimport { useCallback } from 'react';\r\nimport { useChessboardProps } from './context/props-context/hooks';\r\n\r\nimport type { Vector } from './types';\r\n\r\nconst useReversePiecePosition = () => {\r\n  const { pieceSize } = useChessboardProps();\r\n\r\n  const toTranslation = useCallback(\r\n    (to: Square) => {\r\n      'worklet';\r\n      const tokens = to.split('');\r\n      const col = tokens[0];\r\n      const row = tokens[1];\r\n      if (!col || !row) {\r\n        throw new Error('Invalid notation: ' + to);\r\n      }\r\n      const indexes = {\r\n        x: col.charCodeAt(0) - 'a'.charCodeAt(0),\r\n        y: parseInt(row, 10) - 1,\r\n      };\r\n      return {\r\n        x: indexes.x * pieceSize,\r\n        y: 7 * pieceSize - indexes.y * pieceSize,\r\n      };\r\n    },\r\n    [pieceSize]\r\n  );\r\n\r\n  const toPosition = useCallback(\r\n    ({ x, y }: Vector) => {\r\n      'worklet';\r\n      const col = String.fromCharCode(97 + Math.round(x / pieceSize));\r\n      const row = `${8 - Math.round(y / pieceSize)}`;\r\n      return `${col}${row}` as Square;\r\n    },\r\n    [pieceSize]\r\n  );\r\n\r\n  return { toPosition, toTranslation };\r\n};\r\n\r\nexport { useReversePiecePosition };\r\n"],"mappings":"AACA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,kBAAT,QAAmC,+BAAnC;;AAIA,MAAMC,uBAAuB,GAAG,MAAM;EACpC,MAAM;IAAEC;EAAF,IAAgBF,kBAAkB,EAAxC;EAEA,MAAMG,aAAa,GAAGJ,WAAW,CAC9BK,EAAD,IAAgB;IACd;;IACA,MAAMC,MAAM,GAAGD,EAAE,CAACE,KAAH,CAAS,EAAT,CAAf;IACA,MAAMC,GAAG,GAAGF,MAAM,CAAC,CAAD,CAAlB;IACA,MAAMG,GAAG,GAAGH,MAAM,CAAC,CAAD,CAAlB;;IACA,IAAI,CAACE,GAAD,IAAQ,CAACC,GAAb,EAAkB;MAChB,MAAM,IAAIC,KAAJ,CAAU,uBAAuBL,EAAjC,CAAN;IACD;;IACD,MAAMM,OAAO,GAAG;MACdC,CAAC,EAAEJ,GAAG,CAACK,UAAJ,CAAe,CAAf,IAAoB,IAAIA,UAAJ,CAAe,CAAf,CADT;MAEdC,CAAC,EAAEC,QAAQ,CAACN,GAAD,EAAM,EAAN,CAAR,GAAoB;IAFT,CAAhB;IAIA,OAAO;MACLG,CAAC,EAAED,OAAO,CAACC,CAAR,GAAYT,SADV;MAELW,CAAC,EAAE,IAAIX,SAAJ,GAAgBQ,OAAO,CAACG,CAAR,GAAYX;IAF1B,CAAP;EAID,CAjB8B,EAkB/B,CAACA,SAAD,CAlB+B,CAAjC;EAqBA,MAAMa,UAAU,GAAGhB,WAAW,CAC5B,QAAsB;IACpB;;IADoB,IAArB;MAAEY,CAAF;MAAKE;IAAL,CAAqB;IAEpB,MAAMN,GAAG,GAAGS,MAAM,CAACC,YAAP,CAAoB,KAAKC,IAAI,CAACC,KAAL,CAAWR,CAAC,GAAGT,SAAf,CAAzB,CAAZ;IACA,MAAMM,GAAG,GAAI,GAAE,IAAIU,IAAI,CAACC,KAAL,CAAWN,CAAC,GAAGX,SAAf,CAA0B,EAA7C;IACA,OAAQ,GAAEK,GAAI,GAAEC,GAAI,EAApB;EACD,CAN2B,EAO5B,CAACN,SAAD,CAP4B,CAA9B;EAUA,OAAO;IAAEa,UAAF;IAAcZ;EAAd,CAAP;AACD,CAnCD;;AAqCA,SAASF,uBAAT"}