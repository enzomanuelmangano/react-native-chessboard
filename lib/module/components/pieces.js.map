{"version":3,"names":["React","useChessboardProps","useBoard","usePieceRefs","Piece","useReversePiecePosition","Pieces","memo","board","refs","pieceSize","toPosition","map","row","y","piece","x","square","current","color","type"],"sources":["pieces.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useChessboardProps } from '../context/props-context/hooks';\r\n\r\nimport { useBoard } from '../context/board-context/hooks';\r\nimport { usePieceRefs } from '../context/board-refs-context/hooks';\r\n\r\nimport Piece from './piece';\r\nimport { useReversePiecePosition } from '../notation';\r\n\r\nconst Pieces = React.memo(() => {\r\n  const board = useBoard();\r\n  const refs = usePieceRefs();\r\n  const { pieceSize } = useChessboardProps();\r\n  const { toPosition } = useReversePiecePosition();\r\n\r\n  return (\r\n    <>\r\n      {board.map((row, y) =>\r\n        row.map((piece, x) => {\r\n          if (piece !== null) {\r\n            const square = toPosition({\r\n              x: x * pieceSize,\r\n              y: y * pieceSize,\r\n            });\r\n\r\n            return (\r\n              <Piece\r\n                ref={refs?.current?.[square]}\r\n                key={`${x}-${y}`}\r\n                id={`${piece.color}${piece.type}` as const}\r\n                startPosition={{ x, y }}\r\n                square={square}\r\n                size={pieceSize}\r\n              />\r\n            );\r\n          }\r\n          return null;\r\n        })\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nexport { Pieces };\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AAEA,SAASC,QAAT,QAAyB,gCAAzB;AACA,SAASC,YAAT,QAA6B,qCAA7B;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,uBAAT,QAAwC,aAAxC;AAEA,MAAMC,MAAM,gBAAGN,KAAK,CAACO,IAAN,CAAW,MAAM;EAC9B,MAAMC,KAAK,GAAGN,QAAQ,EAAtB;EACA,MAAMO,IAAI,GAAGN,YAAY,EAAzB;EACA,MAAM;IAAEO;EAAF,IAAgBT,kBAAkB,EAAxC;EACA,MAAM;IAAEU;EAAF,IAAiBN,uBAAuB,EAA9C;EAEA,oBACE,0CACGG,KAAK,CAACI,GAAN,CAAU,CAACC,GAAD,EAAMC,CAAN,KACTD,GAAG,CAACD,GAAJ,CAAQ,CAACG,KAAD,EAAQC,CAAR,KAAc;IACpB,IAAID,KAAK,KAAK,IAAd,EAAoB;MAAA;;MAClB,MAAME,MAAM,GAAGN,UAAU,CAAC;QACxBK,CAAC,EAAEA,CAAC,GAAGN,SADiB;QAExBI,CAAC,EAAEA,CAAC,GAAGJ;MAFiB,CAAD,CAAzB;MAKA,oBACE,oBAAC,KAAD;QACE,GAAG,EAAED,IAAF,aAAEA,IAAF,wCAAEA,IAAI,CAAES,OAAR,kDAAE,cAAgBD,MAAhB,CADP;QAEE,GAAG,EAAG,GAAED,CAAE,IAAGF,CAAE,EAFjB;QAGE,EAAE,EAAG,GAAEC,KAAK,CAACI,KAAM,GAAEJ,KAAK,CAACK,IAAK,EAHlC;QAIE,aAAa,EAAE;UAAEJ,CAAF;UAAKF;QAAL,CAJjB;QAKE,MAAM,EAAEG,MALV;QAME,IAAI,EAAEP;MANR,EADF;IAUD;;IACD,OAAO,IAAP;EACD,CAnBD,CADD,CADH,CADF;AA0BD,CAhCc,CAAf;AAkCA,SAASJ,MAAT"}