{"version":3,"names":["React","useImperativeHandle","useRef","View","StyleSheet","Background","HighlightedSquares","Pieces","SuggestedDots","ChessboardContextProvider","ChessboardPropsContextProvider","DEFAULT_BOARD_SIZE","useChessboardProps","styles","create","container","aspectRatio","Chessboard","memo","boardSize","width","ChessboardContainerComponent","forwardRef","props","ref","chessboardRef","move","params","current","highlight","resetAllHighlightedSquares","getState","resetBoard","fen","ChessboardContainer"],"sources":["index.tsx"],"sourcesContent":["import React, { useImperativeHandle, useRef } from 'react';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nimport Background from './components/chessboard-background';\r\nimport { HighlightedSquares } from './components/highlighted-squares';\r\nimport { Pieces } from './components/pieces';\r\nimport { SuggestedDots } from './components/suggested-dots';\r\nimport { ChessboardContextProvider } from './context/board-context-provider';\r\nimport type { ChessboardRef } from './context/board-refs-context';\r\nimport {\r\n  ChessboardProps,\r\n  ChessboardPropsContextProvider,\r\n  DEFAULT_BOARD_SIZE,\r\n} from './context/props-context';\r\nimport { useChessboardProps } from './context/props-context/hooks';\r\nimport type { ChessboardState } from './helpers/get-chessboard-state';\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    aspectRatio: 1,\r\n  },\r\n});\r\n\r\nconst Chessboard: React.FC = React.memo(() => {\r\n  const { boardSize } = useChessboardProps();\r\n\r\n  return (\r\n    <View style={[styles.container, { width: boardSize }]}>\r\n      <Background />\r\n      <Pieces />\r\n      <HighlightedSquares />\r\n      <SuggestedDots />\r\n    </View>\r\n  );\r\n});\r\n\r\nconst ChessboardContainerComponent = React.forwardRef<\r\n  ChessboardRef,\r\n  ChessboardProps\r\n>((props, ref) => {\r\n  const chessboardRef = useRef<ChessboardRef>(null);\r\n\r\n  useImperativeHandle(\r\n    ref,\r\n    () => ({\r\n      move: (params) => chessboardRef.current?.move?.(params),\r\n      highlight: (params) => chessboardRef.current?.highlight(params),\r\n      resetAllHighlightedSquares: () =>\r\n        chessboardRef.current?.resetAllHighlightedSquares(),\r\n      getState: () => chessboardRef?.current?.getState() as ChessboardState,\r\n      resetBoard: (params) => chessboardRef.current?.resetBoard(params),\r\n    }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <ChessboardPropsContextProvider {...props}>\r\n      <ChessboardContextProvider ref={chessboardRef} fen={props.fen}>\r\n        <Chessboard />\r\n      </ChessboardContextProvider>\r\n    </ChessboardPropsContextProvider>\r\n  );\r\n});\r\n\r\nconst ChessboardContainer = React.memo(ChessboardContainerComponent);\r\n\r\nexport { DEFAULT_BOARD_SIZE };\r\nexport type { ChessboardRef };\r\nexport default ChessboardContainer;\r\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,mBAAhB,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,cAAjC;AAEA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,SAASC,kBAAT,QAAmC,kCAAnC;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,yBAAT,QAA0C,kCAA1C;AAEA,SAEEC,8BAFF,EAGEC,kBAHF,QAIO,yBAJP;AAKA,SAASC,kBAAT,QAAmC,+BAAnC;AAGA,MAAMC,MAAM,GAAGT,UAAU,CAACU,MAAX,CAAkB;EAC/BC,SAAS,EAAE;IACTC,WAAW,EAAE;EADJ;AADoB,CAAlB,CAAf;AAMA,MAAMC,UAAoB,gBAAGjB,KAAK,CAACkB,IAAN,CAAW,MAAM;EAC5C,MAAM;IAAEC;EAAF,IAAgBP,kBAAkB,EAAxC;EAEA,oBACE,oBAAC,IAAD;IAAM,KAAK,EAAE,CAACC,MAAM,CAACE,SAAR,EAAmB;MAAEK,KAAK,EAAED;IAAT,CAAnB;EAAb,gBACE,oBAAC,UAAD,OADF,eAEE,oBAAC,MAAD,OAFF,eAGE,oBAAC,kBAAD,OAHF,eAIE,oBAAC,aAAD,OAJF,CADF;AAQD,CAX4B,CAA7B;AAaA,MAAME,4BAA4B,gBAAGrB,KAAK,CAACsB,UAAN,CAGnC,CAACC,KAAD,EAAQC,GAAR,KAAgB;EAChB,MAAMC,aAAa,GAAGvB,MAAM,CAAgB,IAAhB,CAA5B;EAEAD,mBAAmB,CACjBuB,GADiB,EAEjB,OAAO;IACLE,IAAI,EAAGC,MAAD;MAAA;;MAAA,gCAAYF,aAAa,CAACG,OAA1B,oFAAY,sBAAuBF,IAAnC,2DAAY,mDAA8BC,MAA9B,CAAZ;IAAA,CADD;IAELE,SAAS,EAAGF,MAAD;MAAA;;MAAA,iCAAYF,aAAa,CAACG,OAA1B,2DAAY,uBAAuBC,SAAvB,CAAiCF,MAAjC,CAAZ;IAAA,CAFN;IAGLG,0BAA0B,EAAE;MAAA;;MAAA,iCAC1BL,aAAa,CAACG,OADY,2DAC1B,uBAAuBE,0BAAvB,EAD0B;IAAA,CAHvB;IAKLC,QAAQ,EAAE;MAAA;;MAAA,OAAMN,aAAN,aAAMA,aAAN,iDAAMA,aAAa,CAAEG,OAArB,2DAAM,uBAAwBG,QAAxB,EAAN;IAAA,CALL;IAMLC,UAAU,EAAGL,MAAD;MAAA;;MAAA,iCAAYF,aAAa,CAACG,OAA1B,2DAAY,uBAAuBI,UAAvB,CAAkCL,MAAlC,CAAZ;IAAA;EANP,CAAP,CAFiB,EAUjB,EAViB,CAAnB;EAaA,oBACE,oBAAC,8BAAD,EAAoCJ,KAApC,eACE,oBAAC,yBAAD;IAA2B,GAAG,EAAEE,aAAhC;IAA+C,GAAG,EAAEF,KAAK,CAACU;EAA1D,gBACE,oBAAC,UAAD,OADF,CADF,CADF;AAOD,CA1BoC,CAArC;AA4BA,MAAMC,mBAAmB,gBAAGlC,KAAK,CAACkB,IAAN,CAAWG,4BAAX,CAA5B;AAEA,SAASV,kBAAT;AAEA,eAAeuB,mBAAf"}